# yaml-language-server: $schema=https://fortify.github.io/fcli/schemas/action/fcli-action-schema-dev-2.x.json

author: Fortify
usage:
  header: Test shared sessions
  description: |
    TODO

config:
  rest.target.default: ssc
  sessionFromEnvOutput: show
  
steps:
    - rest.call:
        - name: apps
          uri: /api/v1/projects
          forEach:
            name: app
            do:
              - file.write:
                - to: stdout
                  value: ${app}
        - name: ping
          uri: /rest/v2/ping
          target: sc-sast
    - file.write:
        - to: stdout
          value: ${ping}
      
